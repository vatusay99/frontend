<div class="container aminated fadeIn fast">
    <div class="card mt-4">
        <div class="card-body">
            <div class="d-flex justify-content-between" *ngIf="typeof editItem.id === 'number'; else titleEdit">
                <h5 class="card-title">{{title}}</h5>
            </div>

            <ng-template #titleEdit class="d-flex justify-content-between" >

                <h5 class="card-title">Fromulario de edicion de tarea {{editItem.title}}</h5>

            </ng-template>

            <app-loading *ngIf="loading"></app-loading>
            <hr>

            <form class="bg-luz.bg-gradiente mt-3"  [formGroup]="myForm" (ngSubmit)="onSave()" autocomplete="off">
                
                <!-- <ng-template #EditHidden>
                    <input type="hidden" formControlName="id" name="id" value="0" >
                </ng-template> -->

                <div class="mb-3" *ngIf="typeof editItem.id === 'number'; else crearTitle">
                    <label for="title" class="form-label">Titulo <span style="color: crimson;">*</span></label>
                    <input type="text" 
                            class="form-control" 
                            formControlName="title"
                            value="{{editItem.title}}">

                    <div class="form-text alert alert-danger" role="alert" *ngIf="isValidFile('title')" >el campo title no debe estar vació</div>
                </div>
                <ng-template #crearTitle>
                    <div class="mb-3" >
                        <label for="title" class="form-label">Titulo <span style="color: crimson;">*</span></label>
                        <input type="text" 
                                class="form-control" 
                                formControlName="title"
                                placeholder="digite un titulo para la nueva tarea">
    
                        <div class="form-text alert alert-danger" role="alert" *ngIf="isValidFile('title')" >el campo title es requerido</div>
                    </div>
                </ng-template>
                
                
                <div class="mb-3">
                    <label for="description" class="form-label">description </label>
                    <input type="text" 
                            class="form-control" 
                            placeholder="Descripción de la tarea"
                            formControlName="description">
                    <div  class="form-text alert alert-danger" role="alert" *ngIf="isValidFile('description')"  >el campo description debe contener minimo 10 letras</div>
                </div>
                <div class="mb-3 form-check">
                    <input type="checkbox" 
                            class="form-check-input" 
                            id="isCompleted"
                            formControlName="isCompleted">
                    <label class="form-check-label" for="isCompleted">Tarea completada</label>
                </div>
                <div class="d-grid gap-2"  *ngIf="typeof editItem.id === 'number'; else btnEditar" > <!-- *ngIf="typeof editItem.id === 'number'; else btnEditar" -->

                    <button type="button" class="btn btn-primary" (click)="onSave()">{{btnName}}</button>
                </div>
                <ng-template #btnEditar class="d-grid gap-2">

                    <button type="button" class="btn btn-success" (click)="enviar()">Guardar Cambios</button>

                </ng-template>
            </form>
        </div>
    </div>

</div>